##############################################################
#Example2 for Mars:
# -Flat geometry  
# -Atmosphere at 45N 180E 
#	-Structure readed from the atmospheric table marsgram_atmo_table_45N180E.txt
#  	 obtained by using MarsGram2001 
# -Soil 
#	-100m layer of SiO2 with 3 g/cm3 density divided into 5 sublayers
#	  for detection purpose 
# -Visualisation and detection of the interaction of 5 GeV protons   
# -Registration of energy deposited in soil and atmosphere
#	and registration of secondary flux in atmosphere and soil
##############################################################
/control/verbose 1
/tracking/verbose 0

#
#Atmosphere definition
#
/PLANETOCOS/SPACECOORDINATE/UseSpice true
/PLANETOCOS/GEOMETRY/SetType Flat
/PLANETOCOS/GEOMETRY/SetConsiderAtmosphere true
/PLANETOCOS/GEOMETRY/SetHeigthOfWorldAboveAtmosphere 150 km
/PLANETOCOS/GEOMETRY/SetPlanetCoreThickness 10 km
/PLANETOCOS/GEOMETRY/SetLayerLength  500 km
#/PLANETOCOS/GEOMETRY/SetAtmosphereTop 90 km
#/PLANETOCOS/GEOMETRY/SetGroundAltitude -4.0884 km
/PLANETOCOS/GEOMETRY/ReadAtmosphereCompositionTable /home/philip/analysis/planetocosmics/data/mars/marsgram_atmotables//marsgram_atmo_table_45N180E.txt
/PLANETOCOS/GEOMETRY/verbose 1



#
#Soil definition
#
/PLANETOCOS/SOIL/ResetLayers
/PLANETOCOS/SOIL/AddMonoElementLayer SiO2 1.7 g/cm3 100 m 5



#
#Detection levels definition
#
/PLANETOCOS/GEOMETRY/DetectorAtAltitude 150 km
/PLANETOCOS/GEOMETRY/DetectorAtAltitude 100 km
/PLANETOCOS/GEOMETRY/DetectorAtDepth  5 g/cm2
/PLANETOCOS/GEOMETRY/DetectorAtDepth  10 g/cm2
/PLANETOCOS/GEOMETRY/DetectorAtDepth  15 g/cm2
/PLANETOCOS/GEOMETRY/DetectorAtDepth  20 g/cm2
/PLANETOCOS/GEOMETRY/DetectorAtAltitude -10 km
/PLANETOCOS/GEOMETRY/SetDetectionBelowSoilLayers true
#
#Initialisation
#
/PLANETOCOS/Initialise


#
#No magnetic field
#
/PLANETOCOS/BFIELD/SwitchOff


#
#Histograms definition
#

#
#Primaries
#
/PLANETOCOS/ANALYSIS/PRIMARY/FluxHisto proton  1 15 .01 10 GeV log

#
#Downward and upward flux of particles
#


/PLANETOCOS/ANALYSIS/SECONDARY/SelectAllDetectors
/PLANETOCOS/ANALYSIS/SECONDARY/SetTypeOfWeight INVERSE_COSTH
/PLANETOCOS/ANALYSIS/SECONDARY/DownwardFluxHisto proton  1 20 .001 10 GeV log
/PLANETOCOS/ANALYSIS/SECONDARY/DownwardFluxHisto e-  1 20 .001 10 GeV log
/PLANETOCOS/ANALYSIS/SECONDARY/DownwardFluxHisto e+  1 20 .001 10 GeV log
/PLANETOCOS/ANALYSIS/SECONDARY/DownwardFluxHisto gamma 1 25 .0001 10 GeV log
/PLANETOCOS/ANALYSIS/SECONDARY/DownwardFluxHisto neutron 1 35  1e-3 1e4 MeV log

/PLANETOCOS/ANALYSIS/SECONDARY/UpwardFluxHisto proton  2 20 .001 10 GeV log
/PLANETOCOS/ANALYSIS/SECONDARY/UpwardFluxHisto e-  2 20 .001 10 GeV log
/PLANETOCOS/ANALYSIS/SECONDARY/UpwardFluxHisto e+  2 20 .001 10 GeV log
/PLANETOCOS/ANALYSIS/SECONDARY/UpwardFluxHisto gamma 2 25 .0001 10 GeV log
/PLANETOCOS/ANALYSIS/SECONDARY/UpwardFluxHisto neutron 2 35  1e-3 1e4 MeV log

#
#Energy deposited
#
/PLANETOCOS/ANALYSIS/EDEP/AtmoEdepVsDepthHisto 1 100
/PLANETOCOS/ANALYSIS/EDEP/AtmoEdepVsAltitudeHisto 1 100
/PLANETOCOS/ANALYSIS/EDEP/SoilEdepVsDepthInGPerCm2Histo 1 100
/PLANETOCOS/ANALYSIS/EDEP/SoilEdepVsDepthInKmHisto 1 100

#
#cut in range definition
#
/PLANETOCOS/CUT/SetCutInDepthForAllAtmosphericLayers .5 g/cm2
/run/particle/applyCuts true e-
/run/particle/applyCuts true gamma
/run/particle/applyCuts true e+
/run/particle/dumpCutValues


/tracking/verbose 0
/tracking/storeTrajectory 1
/vis/scene/endOfEventAction accumulate
/control/verbose 1



#
#Stopping energy 
#
/PLANETOCOS/STOPCONDITION/SetStoppingEnergy e- 1 MeV
/PLANETOCOS/STOPCONDITION/SetStoppingEnergy gamma 100 keV
/PLANETOCOS/STOPCONDITION/SetStoppingEnergy proton 1 MeV
/PLANETOCOS/STOPCONDITION/SetStoppingEnergy neutron 0.001 MeV



#
# Colour of particle trajectories
#
/PLANETOCOS/DRAW/SetParticleTrajectoryColour proton 1 0 0
/PLANETOCOS/DRAW/SetParticleTrajectoryColour e- 0 1 0
/PLANETOCOS/DRAW/SetParticleTrajectoryColour neutron 1 1 1 
/PLANETOCOS/DRAW/SetParticleTrajectoryColour gamma 0 0 1
/PLANETOCOS/DRAW/SetParticleTrajectoryColour e+ 1 1 0
/PLANETOCOS/DRAW/SetParticleTrajectoryColour mu- 1 0 1
/PLANETOCOS/DRAW/SetParticleTrajectoryColour mu+ 1 0 1 


/PLANETOCOS/RANDOM/FixTheSeedRandomly
/PLANETOCOS/RANDOM/SetRandomSeedAtRunStart false



#
#Primaries 5 GeV protons  normal incident 
#
#
/gps/particle proton
/gps/energy 5 GeV
/PLANETOCOS/SOURCE/SetPositionForFlatGeometry 0 0 150 km 
/gps/direction 0 0 -1 


#
#10 events with visualisation  
#

/tracking/verbose 0
/tracking/storeTrajectory 1
/vis/scene/endOfEventAction accumulate
/PLANETOCOS/DRAW/DrawTrajectory true
/run/beamOn 10


/vis/open VRML2FILE
/vis/viewer/create 
/vis/viewer/set/viewpointThetaPhi 0. 90. deg
/vis/viewer/zoom .35
/vis/viewer/set/style surface2
/PLANETOCOS/DRAW/Show
/vis/viewer/update
/PLANETOCOS/DRAW/Reset
/vis/enable false
/PLANETOCOS/DRAW/DrawTrajectory false

#
#100 events  without visualisation
#
/vis/enable false
/PLANETOCOS/DRAW/DrawTrajectory false
/tracking/storeTrajectory 0

/run/beamOn 100

#
#Save histogram tree without normalisation
#

#Root case
# If you are not using  root as analysis package comment the next line 
/PLANETOCOS/ANALYSIS/SaveTree mars_example2.root root / NONE

#Ascii file
/PLANETOCOS/ANALYSIS/SaveTree mars_example2.ascii ascii / NONE 
