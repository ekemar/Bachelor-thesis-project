##############################################################
#Example1 for Mercury:
# -Flat geometry  
# -No Atmosphere 
# -Default Soil 
# -Non tilted Diple field 300 nT/Rm^3	
# -Visualisation and detection of the interaction of 5 GeV protons   
##############################################################
/control/verbose 1

#
#Atmosphere definition
#
/PLANETOCOS/GEOMETRY/SetType  Spherical
/PLANETOCOS/GEOMETRY/SetHeigthOfWorldAboveAtmosphere 30 rplanet

#
#Detection levels definition
#
/PLANETOCOS/GEOMETRY/DetectorAtAltitude 400 km
/PLANETOCOS/GEOMETRY/DetectorAtAltitude 100 km


/PLANETOCOS/PHYSICS/SelectTypeOfEMPhysics STANDARD


#
#Initialisation
#

/PLANETOCOS/Initialise


#
#Magnetic field
#
/PLANETOCOS/BFIELD/SwitchOn
/PLANETOCOS/BFIELD/SetInternalFieldModel DIPOLE
/PLANETOCOS/BFIELD/SetDipoleB0 300 nT
/PLANETOCOS/BFIELD/SetDipoleAxis 0 0 degree 


#
#Histograms definition
#

#
#Primaries
#
/PLANETOCOS/ANALYSIS/PRIMARY/FluxHisto proton  1 15 .01 10 GeV log

#
#Downward and upward flux of particles
#


/PLANETOCOS/ANALYSIS/SECONDARY/SelectAllDetectors
/PLANETOCOS/ANALYSIS/SECONDARY/SetTypeOfWeight ONE

/PLANETOCOS/ANALYSIS/SECONDARY/UpwardFluxHisto proton  2 20 .001 10 GeV log
/PLANETOCOS/ANALYSIS/SECONDARY/UpwardFluxHisto e-  2 20 .001 10 GeV log
/PLANETOCOS/ANALYSIS/SECONDARY/UpwardFluxHisto e+  2 20 .001 10 GeV log
/PLANETOCOS/ANALYSIS/SECONDARY/UpwardFluxHisto gamma 2 25 .0001 10 GeV log
/PLANETOCOS/ANALYSIS/SECONDARY/UpwardFluxHisto neutron 2 35  1e-3 1e4 MeV log


#
#cut in range definition
#
/PLANETOCOS/CUT/SetCutInDepthForAGivenVolume Soil1 .5 g/cm2
/run/particle/applyCuts true e-
/run/particle/applyCuts true gamma
/run/particle/applyCuts true e+
/run/particle/dumpCutValues


/tracking/verbose 0
/tracking/storeTrajectory 1
/vis/scene/endOfEventAction accumulate
/control/verbose 1



#
#Stopping energy 
#
/PLANETOCOS/STOPCONDITION/SetStoppingEnergy e- .5 MeV
/PLANETOCOS/STOPCONDITION/SetStoppingEnergy e+ .5 MeV
/PLANETOCOS/STOPCONDITION/SetStoppingEnergy gamma 100 keV
/PLANETOCOS/STOPCONDITION/SetStoppingEnergy proton 1 MeV
/PLANETOCOS/STOPCONDITION/SetStoppingEnergy neutron 100 MeV



#
# Colour of particle trajectories
#
/PLANETOCOS/DRAW/SetParticleTrajectoryColour Primary 1 1 1
/PLANETOCOS/DRAW/SetParticleTrajectoryColour proton 1 1 0
/PLANETOCOS/DRAW/SetParticleTrajectoryColour e- 0 1 0
#/PLANETOCOS/DRAW/SetParticleTrajectoryColour neutron 1 1 1 
#/PLANETOCOS/DRAW/SetParticleTrajectoryColour gamma 0 0 1
/PLANETOCOS/DRAW/SetParticleTrajectoryColour e+ 1 0 0
#/PLANETOCOS/DRAW/SetParticleTrajectoryColour mu- 1 0 1
#/PLANETOCOS/DRAW/SetParticleTrajectoryColour mu+ 1 0 1 

/PLANETOCOS/USERLIMIT/SetMagnetoMaxStepLength .1 rplanet





#
#Primaries 10 GeV protons  normal incident 
#
#
/gps/particle proton
/gps/energy 10 GeV
/PLANETOCOS/SOURCE/SetPositionVector PLA  10 0 0 rplanet
/PLANETOCOS/SOURCE/SetDirection     PLA   2 0 degree 



#
#10 events with visualisation  
#

/tracking/verbose 0
/tracking/storeTrajectory 1
/vis/scene/endOfEventAction accumulate
/PLANETOCOS/DRAW/DrawTrajectory true
/run/beamOn 100

#
#Magnetic field lines
#
#/PLANETOCOS/DRAW/DrawTrajectory true
#/PLANETOCOS/DRAW/SetColourForBline 1 0 1
#/tracking/verbose 0
#/PLANETOCOS/DRAW/TraceBlineAtPositions PLA  5 km  -70 10  2 180 180 1 degree 



/vis/open VRML2FILE
/vis/viewer/create 
/vis/viewer/set/viewpointThetaPhi 0. 90. deg
/vis/viewer/zoom .35
/vis/viewer/set/style surface2
/PLANETOCOS/DRAW/Show
/PLANETOCOS/DRAW/Reset
/vis/viewer/update
/PLANETOCOS/DRAW/DrawTrajectory false

#
#100 events  without visualisation
#
/vis/enable false
/PLANETOCOS/DRAW/DrawTrajectory false
/tracking/storeTrajectory 0

/run/beamOn 100



#
#Save histogram tree without normalisation
#

#Root case
# If you are not using  root as analysis package comment the next line 
/PLANETOCOS/ANALYSIS/SaveTree mercury_example1.root root / NONE


#Ascii file
/PLANETOCOS/ANALYSIS/SaveTree mercury_example1.ascii ascii / NONE 
